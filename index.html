<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <meta name="theme-color" content="#ffffff"/>
  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <meta name="apple-mobile-web-app-status-bar-style" content="default"/>
  <title>塔羅占卜</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="app-header">
    <div class="header-inner">
      <div class="title">
        <h1>塔羅</h1>
      </div>
      <div class="header-actions">
        <button id="themeToggle" class="icon-btn" aria-label="切換主題" title="切換主題 (T)">
          <svg class="icon" id="iconSun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="display:none"><path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.106a.75.75 0 010 1.06l-1.591 1.59a.75.75 0 11-1.06-1.06l1.59-1.59a.75.75 0 011.061 0zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.803 17.803a.75.75 0 01-1.06 0l-1.59-1.591a.75.75 0 111.06-1.06l1.59 1.59a.75.75 0 010 1.06zM12 18.75a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0v-2.25a.75.75 0 01.75-.75zM5.197 17.803a.75.75 0 010-1.06l1.59-1.59a.75.75 0 111.06 1.06l-1.59 1.59a.75.75 0 01-1.06 0zM3 12a.75.75 0 01.75-.75h2.25a.75.75 0 010 1.5H3.75A.75.75 0 013 12z"/></svg>
          <svg class="icon" id="iconMoon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-3.864 2.11-7.25 5.282-9.022a.75.75 0 01.819.162z" clip-rule="evenodd"/></svg>
        </button>
      </div>
    </div>
  </header>

  <section class="hero">
    <h2 class="hero-title">探索內心的指引</h2>
    <p class="hero-subtitle">簡潔直覺的占卜體驗，專注於當下的洞察</p>
  </section>

  <div class="container">
    <div class="tabs" role="tablist" id="tabsContainer">
      <button class="tab active" data-tab="reading" role="tab" aria-selected="true">占卜</button>
      <button class="tab" data-tab="history" role="tab">記錄</button>
      <button class="tab" data-tab="statistics" role="tab">統計</button>
      <button class="tab" data-tab="database" role="tab">資料庫</button>
      <button class="tab" data-tab="settings" role="tab">設定</button>
    </div>

    <!-- Tab: Reading -->
    <div id="tabReading" class="tab-content">
      <div class="panel">
        <div class="form-section">
          <div class="form-grid">
            <div class="form-field full">
              <label for="question">你的問題</label>
              <input id="question" type="text" placeholder="例如：目前最需要專注的方向？" />
            </div>
            <div class="form-field">
              <label for="deckType">牌組</label>
              <select id="deckType">
                <option value="full">完整牌組 (78張)</option>
                <option value="major">大阿卡納 (22張)</option>
                <option value="minor">小阿卡納 (56張)</option>
                <option value="court">宮廷牌 (16張)</option>
                <option value="numbered">數字牌 (40張)</option>
              </select>
            </div>
            <div class="form-field">
              <label for="spreadType">牌陣</label>
              <select id="spreadType">
                <option value="single" data-spread-name="單張牌指引">單張牌</option>
                <option value="three" data-spread-name="聖三角">聖三角</option>
                <option value="mbs" data-spread-name="身心靈牌陣">身心靈</option>
                <option value="path" data-spread-name="抉擇之路">抉擇之路</option>
                <option value="twoChoice" data-spread-name="二擇一">二擇一</option>
                <option value="prosCons" data-spread-name="優劣分析">優劣分析</option>
                <option value="goal" data-spread-name="目標達成牌陣">目標達成</option>
                <option value="relationship" data-spread-name="關係牌陣">關係牌陣</option>
                <option value="weekly" data-spread-name="週運勢">週運勢</option>
                <option value="monthly" data-spread-name="月運勢">月運勢</option>
                <option value="quarterly" data-spread-name="季度展望">季度展望</option>
                <option value="yearly" data-spread-name="年度主題">年度主題</option>
                <option value="chakra" data-spread-name="脈輪牌陣">脈輪牌陣</option>
                <option value="elements" data-spread-name="四元素牌陣">四元素</option>
                <option value="celtic" data-spread-name="凱爾特十字">凱爾特十字</option>
              </select>
            </div>
          </div>

          <div class="btn-group">
            <button id="readButton" class="btn btn-primary">
              <span id="readButtonText">開始占卜</span>
            </button>
            <button id="shareButton" class="btn btn-secondary">分享</button>
          </div>
        </div>

        <div id="spreadInfo" class="spread-info hidden">
          <div class="spread-info-title">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z" clip-rule="evenodd"/></svg>
            關於此牌陣
          </div>
          <div class="spread-info-content" id="spreadInfoContent"></div>
          <div class="spread-positions-title">牌位說明</div>
          <div class="spread-positions-list" id="spreadPositionsList"></div>
        </div>
      </div>

      <div id="results" class="results"></div>
    </div>

    <!-- Tab: History -->
    <div id="tabHistory" class="tab-content hidden">
      <div class="panel">
        <div class="results-header">
          <h2 class="results-title">占卜記錄</h2>
        </div>
        
        <div class="history-controls">
          <select id="filterSpread" class="btn btn-tertiary btn-sm">
            <option value="">所有牌陣</option>
          </select>
          <select id="filterTag" class="btn btn-tertiary btn-sm">
            <option value="">所有標籤</option>
          </select>
          <button id="filterFavorite" class="btn btn-tertiary btn-sm">⭐ 收藏</button>
          <div style="flex: 1"></div>
          <button id="clearHistory" class="btn btn-tertiary btn-sm">清除記錄</button>
        </div>

        <div id="historyList" class="history-list"></div>
      </div>
    </div>

    <!-- Tab: Statistics -->
    <div id="tabStatistics" class="tab-content hidden">
      <div class="panel">
        <div class="results-header">
          <h2 class="results-title">統計分析</h2>
        </div>
        <div id="statisticsContent" class="stats-grid"></div>
      </div>
    </div>

    <!-- Tab: Database -->
    <div id="tabDatabase" class="tab-content hidden">
      <div class="panel">
        <div class="results-header">
          <h2 class="results-title">牌卡資料庫</h2>
        </div>
        <div class="search-field">
          <input type="text" id="cardSearch" placeholder="搜尋牌名或英文名..." />
        </div>
        <div id="cardDatabaseGrid" class="card-db-grid"></div>
      </div>
    </div>

    <!-- Tab: Settings -->
    <div id="tabSettings" class="tab-content hidden">
      <div class="panel">
        <div class="results-header">
          <h2 class="results-title">設定</h2>
        </div>
        
        <div class="settings-section">
          <div class="settings-title">視覺樣式</div>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="radio" name="visualStyle" value="text" checked />
              <span class="checkbox-label">純文字模式（預設）</span>
            </label>
            <div class="checkbox-desc">簡潔的文字呈現，快速載入</div>
            
            <label class="checkbox-item">
              <input type="radio" name="visualStyle" value="css" />
              <span class="checkbox-label">CSS 漸層卡牌</span>
            </label>
            <div class="checkbox-desc">美麗的漸層背景與大型數字</div>
            
            <label class="checkbox-item">
              <input type="radio" name="visualStyle" value="emoji" />
              <span class="checkbox-label">Emoji 符號模式</span>
            </label>
            <div class="checkbox-desc">可愛的 Emoji 圖標裝飾</div>
            
            <label class="checkbox-item">
              <input type="radio" name="visualStyle" value="api" />
              <span class="checkbox-label">API 圖片模式</span>
            </label>
            <div class="checkbox-desc">載入真實塔羅牌圖片（需網路）</div>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-title">顯示偏好</div>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" id="showSpreadInfo" checked />
              <span class="checkbox-label">顯示牌陣說明</span>
            </label>
            <div class="checkbox-desc">在占卜時顯示牌陣的詳細說明</div>
            
            <label class="checkbox-item">
              <input type="checkbox" id="showShortcuts" checked />
              <span class="checkbox-label">啟用鍵盤快捷鍵</span>
            </label>
            <div class="checkbox-desc">使用鍵盤快速操作</div>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-title">資料管理</div>
          <div class="btn-group">
            <button id="exportData" class="btn btn-tertiary">匯出資料</button>
            <button id="importData" class="btn btn-tertiary">匯入資料</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer class="app-footer">
    <div class="footer-inner">
      <div class="footer-grid">
        <div>
          <h3 class="footer-section-title">關於</h3>
          <p class="footer-desc">
            純粹的占卜工具，專注於呈現牌卡結果。所有資料僅存於您的裝置，完全私密。
          </p>
          <span class="footer-version">v5.2.0</span>
        </div>
        
        <div>
          <h3 class="footer-section-title">連結</h3>
          <div class="footer-links">
            <a href="#" class="footer-link">使用說明</a>
            <a href="#" class="footer-link">隱私政策</a>
            <a href="#" class="footer-link">常見問題</a>
          </div>
        </div>

        <div>
          <h3 class="footer-section-title">聯絡</h3>
          <div class="footer-links">
            <a href="#" class="footer-link" id="linkAbout">關於本站</a>
            <a href="#" class="footer-link" id="linkPrivacy">隱私條款</a>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        © 2025 塔羅占卜工具 · 僅供參考使用
      </div>
    </div>
  </footer>

  <div id="toastContainer" class="toast-container"></div>

  <!-- Modal: Add Note -->
  <div id="noteModal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">新增筆記</h3>
        <button class="modal-close" onclick="closeNoteModal()">
          <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M6.225 4.811a1 1 0 00-1.414 1.414L10.586 12 4.81 17.775a1 1 0 101.414 1.414L12 13.414l5.775 5.775a1 1 0 001.414-1.414L13.414 12l5.775-5.775a1 1 0 00-1.414-1.414L12 10.586 6.225 4.81z"/></svg>
        </button>
      </div>
      <div class="modal-body">
        <textarea id="noteText" placeholder="寫下你的感受與想法..."></textarea>
      </div>
      <div class="modal-actions">
        <button class="btn btn-tertiary btn-sm" onclick="closeNoteModal()">取消</button>
        <button class="btn btn-primary btn-sm" onclick="saveNote()">儲存</button>
      </div>
    </div>
  </div>

  <!-- Modal: Add Tags -->
  <div id="tagModal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">新增標籤</h3>
        <button class="modal-close" onclick="closeTagModal()">
          <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M6.225 4.811a1 1 0 00-1.414 1.414L10.586 12 4.81 17.775a1 1 0 101.414 1.414L12 13.414l5.775 5.775a1 1 0 001.414-1.414L13.414 12l5.775-5.775a1 1 0 00-1.414-1.414L12 10.586 6.225 4.81z"/></svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-field">
          <label>常用標籤</label>
          <div class="tags" id="commonTags"></div>
        </div>
        <div class="form-field">
          <label>自訂標籤</label>
          <input type="text" id="customTag" placeholder="輸入標籤名稱..." />
        </div>
      </div>
      <div class="modal-actions">
        <button class="btn btn-tertiary btn-sm" onclick="closeTagModal()">取消</button>
        <button class="btn btn-primary btn-sm" onclick="saveTag()">新增</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>


